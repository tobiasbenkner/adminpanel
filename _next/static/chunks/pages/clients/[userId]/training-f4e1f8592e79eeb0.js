(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[726],{1819:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clients/[userId]/training",function(){return t(404)}])},7072:function(n,e,t){"use strict";var r=t(2322);e.Z=function(n){return(0,r.jsx)("h1",{style:{marginTop:0},children:n.title})}},6552:function(n,e,t){"use strict";t.d(e,{Z:function(){return C}});var r=t(2322),i=t(3927),a=t(5744),u=t(5801),o=t(6961),s=t(216),c=t(6537),l=t(2048),d=(t(2784),t(9506)),f=t(7527),p=t(7612),v=function(n){var e=n.label,t=n.value,i=n.setter,a=n.field;return(0,r.jsxs)(d.Z,{fullWidth:!0,variant:"outlined",children:[(0,r.jsx)(f.Z,{htmlFor:"component-outlined",children:e}),(0,r.jsx)(p.Z,{value:t,onChange:function(n){return e=n.target.value,void i(a,e);var e},label:e})]})},x=t(5678),h=function(n){var e=n.label,t=n.value,i=n.setter,a=n.field;return(0,r.jsxs)(d.Z,{fullWidth:!0,variant:"outlined",children:[(0,r.jsx)(f.Z,{htmlFor:"component-outlined",children:e}),(0,r.jsx)(p.Z,{value:t,onChange:function(n){return function(n){var e=n.replace(/[^0-9.]/g,"");i(a,e)}(n.target.value)},label:e,inputProps:{inputMode:"numeric",pattern:"[0-9]*"}})]})},m=function(n){return JSON.parse(JSON.stringify(n))},y=t(6765),j=t.n(y),b=t(558),g=t(794),Z=t(6890);function w(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function O(){var n,e,t=(n=["\n    query Query {\n        listAllExercises {\n            _id\n            name\n            muscleGroup\n        }\n    }"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return O=function(){return t},t}var P=(0,b.Ps)(O()),C=function(n){var e=n.state,t=n.setState,d=(0,g.a)(P),f=d.loading,p=(d.error,d.data),y=(d.refetch,function(n,e){t((function(t){if(t){var r=JSON.parse(JSON.stringify(t));return j()(r,n,e),r}}))});return f?(0,r.jsx)(Z.Z,{}):(0,r.jsx)("div",{children:e&&(0,r.jsxs)(i.Z,{spacing:2,children:[(0,r.jsx)(v,{label:"Plan",value:e.name,field:"name",setter:y}),e.days.map((function(n,e){return(0,r.jsxs)(a.Z,{elevation:3,sx:{p:2,mb:2},children:[(0,r.jsx)(i.Z,{alignItems:"end",sx:{mb:1},children:(0,r.jsx)(u.Z,{onClick:function(){return n=e,void t((function(e){var t=m(e);return t.days.splice(n,1),t}));var n},size:"small",children:(0,r.jsx)(x.ZkW,{})})}),(0,r.jsx)(v,{label:"D\xeda",value:n.name,field:"days[".concat(e,"].name"),setter:y}),(0,r.jsx)(o.Z,{sx:{mb:1,mt:1}}),n.exercises.map((function(n,a){return(0,r.jsxs)("div",{children:[(0,r.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",children:[(0,r.jsx)(s.Z,{id:"auto-day-"+e+"-exercise-"+a,disablePortal:!0,options:p.listAllExercises,getOptionLabel:function(n){return n.name||""},isOptionEqualToValue:function(n,e){return n._id===e._id},groupBy:function(n){return n.muscleGroup},fullWidth:!0,onChange:function(n,r){return function(n,e,r){console.log(n,e,r),t((function(t){var i=JSON.parse(JSON.stringify(t));return i.days[e].exercises[r].exerciseId=n?n._id:null,i}))}(r,e,a)},value:p.listAllExercises.find((function(e){return n.exerciseId===e._id}))||null,renderInput:function(n){return(0,r.jsx)(c.Z,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){w(n,e,t[e])}))}return n}({},n,{label:"Ejercicio"}))}}),(0,r.jsxs)(i.Z,{direction:"row",children:[(0,r.jsx)(h,{label:"sets",value:n.sets,field:"days[".concat(e,"].exercises[").concat(a,"].sets"),setter:y}),(0,r.jsx)(h,{label:"reps",value:n.reps,field:"days[".concat(e,"].exercises[").concat(a,"].reps"),setter:y})]}),(0,r.jsx)(u.Z,{onClick:function(){return n=e,r=a,void t((function(e){var t=m(e);return t.days[n].exercises.splice(r,1),t}));var n,r},size:"small",children:(0,r.jsx)(x.ZkW,{})})]}),(0,r.jsx)(o.Z,{sx:{mb:1,mt:1}})]},"day-"+e+"-exercise-"+a)})),(0,r.jsx)(l.Z,{variant:"outlined",onClick:function(){return function(n){t((function(e){var t=m(e);return t.days[n].exercises.push({exerciseId:"",sets:"",reps:""}),t}))}(e)},children:"A\xf1adir ejercicio"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]},"day-"+e)})),(0,r.jsx)(l.Z,{variant:"outlined",onClick:function(){t((function(n){var e=m(n);return e.days.push({name:"",exercises:[]}),e}))},children:"A\xf1adir d\xeda"})]})})}},9250:function(n,e,t){"use strict";var r=t(4776),i=t.n(r),a=t(2322),u=t(3927),o=t(7550),s=t(2197),c=t(6961),l=t(422),d=t(5873),f=t(4117),p=t(2056),v=t(2784),x=t(5632);function h(n,e,t,r,i,a,u){try{var o=n[a](u),s=o.value}catch(c){return void t(c)}o.done?e(s):Promise.resolve(s).then(r,i)}e.Z=function(n){var e=(0,x.useRouter)(),t=e.query.userId,r=e.pathname,m=(0,v.useState)(""),y=m[0],j=m[1],b=[{name:"Entrenamiento",link:"/clients/".concat(t,"/training"),section:"training"},{name:"Contacto",link:"/clients/".concat(t,"/contact"),section:"contact"}];(0,v.useEffect)((function(){j(r.split("/")[3])}),[r]);var g=function(){var n,t=(n=i().mark((function n(t){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.replace(t);case 2:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function u(n){h(a,r,i,u,o,"next",n)}function o(n){h(a,r,i,u,o,"throw",n)}u(void 0)}))});return function(n){return t.apply(this,arguments)}}();return(0,a.jsxs)(u.Z,{direction:"row",spacing:{xs:1,sm:2,md:4},children:[(0,a.jsxs)(o.Z,{sx:{backgroundColor:"#DCDCDC",padding:2,borderRadius:1},children:[(0,a.jsx)(o.Z,{sx:{textAlign:"center"},children:(0,a.jsx)("img",{height:80,width:80,alt:n.client.name,src:n.client.photo,style:{objectFit:"cover",borderRadius:20}})}),(0,a.jsx)(s.Z,{sx:{textAlign:"center",fontWeight:"bold",mb:2},children:n.client.name}),(0,a.jsx)(c.Z,{}),(0,a.jsx)(l.Z,{children:b.map((function(n){return(0,a.jsx)(d.ZP,{disablePadding:!0,children:(0,a.jsx)(f.Z,{selected:y===n.section,onClick:function(){return g(n.link)},children:(0,a.jsx)(p.Z,{primary:n.name})})},n.link)}))})]}),(0,a.jsx)(o.Z,{sx:{width:"100%"},children:n.children})]})}},5287:function(n,e,t){"use strict";t.d(e,{f:function(){return r}});var r=function(n){return{id:n._id||"",name:n.name,days:n.days.map((function(n){return{name:n.name,exercises:n.exercises.map((function(n){return{reps:n.reps,sets:n.sets,exerciseId:n.exercise._id}}))}}))}}},404:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return Q}});var r=t(4776),i=t.n(r),a=t(2322),u=t(9250),o=t(7072),s=t(6552),c=t(2784),l=t(5632),d=t(2048),f=t(9330),p=t(7550),v=t(2197),x=t(2841),h=t(9506),m=t(7527),y=t(2887),j=t(4380),b=t(3927),g=t(558),Z=t(3842),w=t(5287);function O(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function P(n,e,t,r,i,a,u){try{var o=n[a](u),s=o.value}catch(c){return void t(c)}o.done?e(s):Promise.resolve(s).then(r,i)}function C(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var a=n.apply(e,t);function u(n){P(a,r,i,u,o,"next",n)}function o(n){P(a,r,i,u,o,"throw",n)}u(void 0)}))}}function I(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,a=[],u=!0,o=!1;try{for(t=t.call(n);!(u=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);u=!0);}catch(s){o=!0,i=s}finally{try{u||null==t.return||t.return()}finally{if(o)throw i}}return a}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return O(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function S(){var n=k(["\nquery ListAllTrainingplans {\n    listAllTrainingplans {\n        _id\n        name\n    }\n}"]);return S=function(){return n},n}function _(){var n=k(["\nquery Query($input: TrainingsplanByIdInput!) {\n    findTrainingPlanById(input: $input) {\n        _id\n        name\n        days {\n            name\n            exercises {\n                exercise {\n                    _id\n                }\n                sets\n                reps\n            }\n        }\n    }\n}"]);return _=function(){return n},n}var A={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},E=(0,g.Ps)(S()),T=(0,g.Ps)(_()),N=function(n){var e,t=n.setPlan,r=I((0,Z.t)(E),2),u=r[0],o=r[1],s=I((0,Z.t)(T),2),l=s[0],g=s[1],O=(0,c.useState)(!1),P=O[0],k=O[1],S=(0,c.useState)(""),_=S[0],N=S[1],B=function(){var n=C(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(k(!0),o.data){n.next=4;break}return n.next=4,u();case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),z=function(){k(!1),N("")},W=function(){var n=C(i().mark((function n(){var e,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l({variables:{input:{id:_}}});case 2:e=n.sent,r=(0,w.f)(e.data.findTrainingPlanById),t(r),z();case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{onClick:B,variant:"outlined",children:"Carga Plan"}),(0,a.jsx)(f.Z,{open:P,onClose:z,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,a.jsxs)(p.Z,{sx:A,children:[(0,a.jsx)(v.Z,{id:"modal-modal-title",variant:"h6",component:"h2",sx:{mb:2},children:"Elige un plan"}),o.loading?(0,a.jsx)(x.Z,{}):(0,a.jsxs)(h.Z,{fullWidth:!0,sx:{mb:2},children:[(0,a.jsx)(m.Z,{children:"Plans"}),(0,a.jsx)(y.Z,{value:_,label:"Plans",onChange:function(n){return e=n.target.value,void N(e);var e},children:null===(e=o.data)||void 0===e?void 0:e.listAllTrainingplans.map((function(n){return(0,a.jsx)(j.Z,{value:n._id,children:n.name},"plan-".concat(n._id))}))})]}),(0,a.jsxs)(b.Z,{direction:"row",spacing:2,justifyContent:"end",children:[(0,a.jsx)(d.Z,{onClick:z,disabled:o.loading||g.loading,children:"cancelar"}),(0,a.jsx)(d.Z,{variant:"contained",onClick:W,disabled:o.loading||g.loading,children:"carga"})]})]})})]})},B=t(794),z=t(3379),W=t(6890);function $(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function q(n,e,t,r,i,a,u){try{var o=n[a](u),s=o.value}catch(c){return void t(c)}o.done?e(s):Promise.resolve(s).then(r,i)}function D(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function F(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){D(n,e,t[e])}))}return n}function J(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,a=[],u=!0,o=!1;try{for(t=t.call(n);!(u=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);u=!0);}catch(s){o=!0,i=s}finally{try{u||null==t.return||t.return()}finally{if(o)throw i}}return a}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return $(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function R(){var n=M(["\n    query FindClientById($input: FindUserByIdInput!) {\n        findClientById(input: $input) {\n            _id\n            name\n            email\n            trainingplan {\n                name\n                days {\n                    name\n                    exercises {\n                        exercise {\n                            _id\n                        }\n                        reps\n                        sets\n                    }\n                }\n            }\n        }\n    }\n"]);return R=function(){return n},n}function U(){var n=M(["\nmutation Mutation($input: TrainingsplanInput!) {\n    upsertTrainingplanWithUser(input: $input) {\n        _id\n        name\n        userId\n    }\n}"]);return U=function(){return n},n}var G=(0,g.Ps)(R()),L=(0,g.Ps)(U()),Q=function(){var n=(0,l.useRouter)().query.userId,e=(0,c.useState)(),t=e[0],r=e[1],f=(0,B.a)(G,{variables:{input:{id:n}}}),p=f.loading,v=(f.error,f.data),x=(f.refetch,J((0,z.D)(L),2)),h=x[0],m=x[1];if((0,c.useEffect)((function(){if(!p){var n=v.findClientById.trainingplan;r(n?(0,w.f)(n):{name:"",days:[]})}}),[p]),p)return(0,a.jsx)(W.Z,{});var y=function(){var e,r=(e=i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=F({},t,{userId:n}),e.next=3,h({variables:{input:F({},r)}});case 3:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function u(n){q(a,r,i,u,o,"next",n)}function o(n){q(a,r,i,u,o,"throw",n)}u(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,a.jsxs)(u.Z,{client:v.findClientById,children:[(0,a.jsxs)(b.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,a.jsx)(o.Z,{title:"Entrenamiento"}),(0,a.jsxs)(b.Z,{direction:"row",spacing:2,children:[(0,a.jsx)(N,{setPlan:r}),(0,a.jsx)(d.Z,{variant:"contained",onClick:y,disabled:p||m.loading,children:"Save"})]})]}),(0,a.jsx)(s.Z,{state:t,setState:r})]})}},6890:function(n,e,t){"use strict";var r=t(2322),i=t(3927),a=t(2841);e.Z=function(){return(0,r.jsx)(i.Z,{justifyContent:"center",alignItems:"center",style:{height:"calc(100vh - 100px)"},children:(0,r.jsx)(a.Z,{})})}}},function(n){n.O(0,[253,537,880,367,774,888,179],(function(){return e=1819,n(n.s=e);var e}));var e=n.O();_N_E=e}]);