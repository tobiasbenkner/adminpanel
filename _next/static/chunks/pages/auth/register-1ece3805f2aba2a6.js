(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{2219:function(n,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return t(1369)}])},1369:function(n,r,t){"use strict";t.r(r),t.d(r,{default:function(){return M}});var e=t(4776),o=t.n(e),i=t(2322),u=t(2784),a=t(8675),c=t(3927),l=t(107),s=t(9506),d=t(7527),f=t(7612),v=t(5469),p=t(5678),h=t(2048),m=t(9476),g=t(4447),x=t(5163),y=t(8769),b=t(8229),j=t(7274),w=t(5832),E=t(6675);const C=t(558).Ps`
    mutation CreateApp($input: CreateAppInput!) {
        CreateApp(input: $input) {
            appId
        }
    }
`;var _=t(9097),A=t.n(_);function Z(n,r){(null==r||r>n.length)&&(r=n.length);for(var t=0,e=new Array(r);t<r;t++)e[t]=n[t];return e}function k(n,r,t,e,o,i,u){try{var a=n[i](u),c=a.value}catch(l){return void t(l)}a.done?r(c):Promise.resolve(c).then(e,o)}function I(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var e,o,i=[],u=!0,a=!1;try{for(t=t.call(n);!(u=(e=t.next()).done)&&(i.push(e.value),!r||i.length!==r);u=!0);}catch(c){a=!0,o=c}finally{try{u||null==t.return||t.return()}finally{if(a)throw o}}return i}}(n,r)||function(n,r){if(!n)return;if("string"===typeof n)return Z(n,r);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Z(n,r)}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(){var n=(0,u.useState)(""),r=n[0],t=n[1],e=I(function(n,r){var t=(0,E.x)(null===r||void 0===r?void 0:r.client);(0,j.Vp)(n,j.n_.Mutation);var e=(0,u.useState)({called:!1,loading:!1,client:t}),o=e[0],i=e[1],a=(0,u.useRef)({result:o,mutationId:0,isMounted:!0,client:t,mutation:n,options:r});Object.assign(a.current,{client:t,options:r,mutation:n});var c=(0,u.useCallback)((function(n){void 0===n&&(n={});var r=a.current,t=r.client,e=r.options,o=r.mutation,u=(0,x.pi)((0,x.pi)({},e),{mutation:o});a.current.result.loading||u.ignoreResults||i(a.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:t});var c=++a.current.mutationId,l=(0,y.J)(u,n);return t.mutate(l).then((function(r){var e,o,u,s=r.data,d=r.errors,f=d&&d.length>0?new w.c({graphQLErrors:d}):void 0;if(c===a.current.mutationId&&!l.ignoreResults){var v={called:!0,loading:!1,data:s,error:f,client:t};a.current.isMounted&&!(0,b.D)(a.current.result,v)&&i(a.current.result=v)}return null===(o=null===(e=a.current.options)||void 0===e?void 0:e.onCompleted)||void 0===o||o.call(e,r.data),null===(u=n.onCompleted)||void 0===u||u.call(n,r.data),r})).catch((function(r){var e,o,u,s;if(c===a.current.mutationId&&a.current.isMounted){var d={loading:!1,error:r,data:void 0,called:!0,client:t};(0,b.D)(a.current.result,d)||i(a.current.result=d)}if((null===(e=a.current.options)||void 0===e?void 0:e.onError)||l.onError)return null===(u=null===(o=a.current.options)||void 0===o?void 0:o.onError)||void 0===u||u.call(o,r),null===(s=n.onError)||void 0===s||s.call(n,r),{data:void 0,errors:r};throw r}))}),[]),l=(0,u.useCallback)((function(){i({called:!1,loading:!1,client:t})}),[]);return(0,u.useEffect)((function(){return a.current.isMounted=!0,function(){a.current.isMounted=!1}}),[]),[c,(0,x.pi)({reset:l},o)]}(C),2),_=e[0],Z=e[1],M=(Z.data,Z.loading),R=Z.error;if((0,m.a)().userInfo.isAuth)return(0,i.jsx)(g.Z,{href:"/"});var S=function(){var n,t=(n=o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Register"),n.prev=1,n.next=4,_({variables:{input:{email:r}}});case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})),function(){var r=this,t=arguments;return new Promise((function(e,o){var i=n.apply(r,t);function u(n){k(i,e,o,u,a,"next",n)}function a(n){k(i,e,o,u,a,"throw",n)}u(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,i.jsx)(a.Z,{children:(0,i.jsxs)(c.Z,{sx:{height:"100vh"},justifyContent:"center",alignItems:"center",spacing:2,component:"form",noValidate:!0,autoComplete:"off",children:[(0,i.jsx)("h1",{children:"Register"}),R&&(0,i.jsx)(l.Z,{severity:"error",children:R.message}),(0,i.jsxs)(l.Z,{severity:"success",children:["Su cuenta ha sido creada con \xe9xito. Recibir\xe1 un correo electr\xf3nico con su contrase\xf1a.",(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("div",{style:{textAlign:"center"},children:(0,i.jsx)(A(),{href:"/auth/login",children:(0,i.jsx)(h.Z,{color:"info",variant:"outlined",children:"Login"})})})]}),(0,i.jsxs)(s.Z,{fullWidth:!0,variant:"outlined",children:[(0,i.jsx)(d.Z,{htmlFor:"outlined-adornment-user",children:"E-Mail"}),(0,i.jsx)(f.Z,{id:"outlined-adornment-user",type:"text",value:r,onChange:function(n){return t(n.target.value)},endAdornment:(0,i.jsx)(v.Z,{position:"end",children:(0,i.jsx)(p.ixJ,{})}),label:"E-Mail"})]}),(0,i.jsx)(h.Z,{type:"submit",variant:"outlined",sx:{width:150},onClick:S,disabled:M,children:"Registrarse"})]})})}},4447:function(n,r,t){"use strict";var e=t(4776),o=t.n(e),i=t(2322),u=t(2784),a=t(5632);function c(n,r,t,e,o,i,u){try{var a=n[i](u),c=a.value}catch(l){return void t(l)}a.done?r(c):Promise.resolve(c).then(e,o)}r.Z=function(n){var r=n.href,t=(0,a.useRouter)();return(0,u.useEffect)((function(){var n;(n=o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.replace(r);case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.error(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})),function(){var r=this,t=arguments;return new Promise((function(e,o){var i=n.apply(r,t);function u(n){c(i,e,o,u,a,"next",n)}function a(n){c(i,e,o,u,a,"throw",n)}u(void 0)}))})()}),[]),(0,i.jsx)(i.Fragment,{})}}},function(n){n.O(0,[253,899,774,888,179],(function(){return r=2219,n(n.s=r);var r}));var r=n.O();_N_E=r}]);