(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[982],{8675:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(1461),i=t(7896),a=t(2784),o=t(6277),s=t(1290),u=t(5672),c=t(9075),l=t(8451);var d=(0,t(6355).ZP)(),f=t(2423),p=t(2322);const x=["className","component","disableGutters","fixed","maxWidth","classes"],m=(0,f.Z)(),v=d("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,n[`maxWidth${(0,s.Z)(String(t.maxWidth))}`],t.fixed&&n.fixed,t.disableGutters&&n.disableGutters]}}),h=e=>(0,l.Z)({props:e,name:"MuiContainer",defaultTheme:m});var b=t(7342),y=t(5992),j=t(3853);const g=function(e={}){const{createStyledComponent:n=v,useThemeProps:t=h,componentName:l="MuiContainer"}=e,d=n((({theme:e,ownerState:n})=>(0,i.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}})),(({theme:e,ownerState:n})=>n.fixed&&Object.keys(e.breakpoints.values).reduce(((n,t)=>{const r=t,i=e.breakpoints.values[r];return 0!==i&&(n[e.breakpoints.up(r)]={maxWidth:`${i}${e.breakpoints.unit}`}),n}),{})),(({theme:e,ownerState:n})=>(0,i.Z)({},"xs"===n.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[e.breakpoints.up(n.maxWidth)]:{maxWidth:`${e.breakpoints.values[n.maxWidth]}${e.breakpoints.unit}`}}))),f=a.forwardRef((function(e,n){const a=t(e),{className:f,component:m="div",disableGutters:v=!1,fixed:h=!1,maxWidth:b="lg"}=a,y=(0,r.Z)(a,x),j=(0,i.Z)({},a,{component:m,disableGutters:v,fixed:h,maxWidth:b}),g=((e,n)=>{const{classes:t,fixed:r,disableGutters:i,maxWidth:a}=e,o={root:["root",a&&`maxWidth${(0,s.Z)(String(a))}`,r&&"fixed",i&&"disableGutters"]};return(0,c.Z)(o,(e=>(0,u.Z)(n,e)),t)})(j,l);return(0,p.jsx)(d,(0,i.Z)({as:m,ownerState:j,className:(0,o.Z)(g.root,f),ref:n},y))}));return f}({createStyledComponent:(0,y.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,n[`maxWidth${(0,b.Z)(String(t.maxWidth))}`],t.fixed&&n.fixed,t.disableGutters&&n.disableGutters]}}),useThemeProps:e=>(0,j.Z)({props:e,name:"MuiContainer"})});var Z=g},5694:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(1461),i=t(7896),a=t(2784),o=t(9075),s=t(5992),u=t(3853),c=t(2197),l=t(5672);function d(e){return(0,l.Z)("MuiDialogContentText",e)}(0,t(9222).Z)("MuiDialogContentText",["root"]);var f=t(2322);const p=["children"],x=(0,s.ZP)(c.Z,{shouldForwardProp:e=>(0,s.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,n)=>n.root})({});var m=a.forwardRef((function(e,n){const t=(0,u.Z)({props:e,name:"MuiDialogContentText"}),a=(0,r.Z)(t,p),s=(e=>{const{classes:n}=e,t=(0,o.Z)({root:["root"]},d,n);return(0,i.Z)({},n,t)})(a);return(0,f.jsx)(x,(0,i.Z)({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:a},t,{classes:s}))}))},5083:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/plans/[id]",function(){return t(4889)}])},1082:function(e,n,t){"use strict";var r=t(2322),i=t(3927),a=t(2841);n.Z=function(){return(0,r.jsx)(i.Z,{justifyContent:"center",alignItems:"center",style:{height:"calc(100vh - 100px)"},children:(0,r.jsx)(a.Z,{})})}},7072:function(e,n,t){"use strict";var r=t(2322);n.Z=function(e){return(0,r.jsx)("h1",{style:{marginTop:0},children:e.title})}},6552:function(e,n,t){"use strict";t.d(n,{Z:function(){return P}});var r=t(2322),i=t(3927),a=t(5744),o=t(5801),s=t(6961),u=t(216),c=t(6537),l=t(2048),d=(t(2784),t(9506)),f=t(7527),p=t(7612),x=function(e){var n=e.label,t=e.value,i=e.setter,a=e.field;return(0,r.jsxs)(d.Z,{fullWidth:!0,variant:"outlined",children:[(0,r.jsx)(f.Z,{htmlFor:"component-outlined",children:n}),(0,r.jsx)(p.Z,{value:t,onChange:function(e){return n=e.target.value,void i(a,n);var n},label:n})]})},m=t(5678),v=function(e){var n=e.label,t=e.value,i=e.setter,a=e.field;return(0,r.jsxs)(d.Z,{fullWidth:!0,variant:"outlined",children:[(0,r.jsx)(f.Z,{htmlFor:"component-outlined",children:n}),(0,r.jsx)(p.Z,{value:t,onChange:function(e){return function(e){var n=e.replace(/[^0-9.]/g,"");i(a,n)}(e.target.value)},label:n,inputProps:{inputMode:"numeric",pattern:"[0-9]*"}})]})},h=function(e){return JSON.parse(JSON.stringify(e))},b=t(6765),y=t.n(b),j=t(558),g=t(794),Z=t(1082);function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function O(){var e,n,t=(e=["\n    query Query {\n        listAllExercises {\n            _id\n            name\n            muscleGroup\n        }\n    }"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return O=function(){return t},t}var S=(0,j.Ps)(O()),P=function(e){var n=e.state,t=e.setState,d=(0,g.a)(S),f=d.loading,p=(d.error,d.data),b=(d.refetch,function(e,n){t((function(t){if(t){var r=JSON.parse(JSON.stringify(t));return y()(r,e,n),r}}))});return f?(0,r.jsx)(Z.Z,{}):(0,r.jsx)("div",{children:n&&(0,r.jsxs)(i.Z,{spacing:2,children:[(0,r.jsx)(x,{label:"Plan",value:n.name,field:"name",setter:b}),n.days.map((function(e,n){return(0,r.jsxs)(a.Z,{elevation:3,sx:{p:2,mb:2},children:[(0,r.jsx)(i.Z,{alignItems:"end",sx:{mb:1},children:(0,r.jsx)(o.Z,{onClick:function(){return e=n,void t((function(n){var t=h(n);return t.days.splice(e,1),t}));var e},size:"small",children:(0,r.jsx)(m.ZkW,{})})}),(0,r.jsx)(x,{label:"D\xeda",value:e.name,field:"days[".concat(n,"].name"),setter:b}),(0,r.jsx)(s.Z,{sx:{mb:1,mt:1}}),e.exercises.map((function(e,a){return(0,r.jsxs)("div",{children:[(0,r.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",children:[(0,r.jsx)(u.Z,{id:"auto-day-"+n+"-exercise-"+a,disablePortal:!0,options:p.listAllExercises,getOptionLabel:function(e){return e.name||""},isOptionEqualToValue:function(e,n){return e._id===n._id},groupBy:function(e){return e.muscleGroup},fullWidth:!0,onChange:function(e,r){return function(e,n,r){console.log(e,n,r),t((function(t){var i=JSON.parse(JSON.stringify(t));return i.days[n].exercises[r].exerciseId=e?e._id:null,i}))}(r,n,a)},value:p.listAllExercises.find((function(n){return e.exerciseId===n._id}))||null,renderInput:function(e){return(0,r.jsx)(c.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){w(e,n,t[n])}))}return e}({},e,{label:"Ejercicio"}))}}),(0,r.jsxs)(i.Z,{direction:"row",children:[(0,r.jsx)(v,{label:"sets",value:e.sets,field:"days[".concat(n,"].exercises[").concat(a,"].sets"),setter:b}),(0,r.jsx)(v,{label:"reps",value:e.reps,field:"days[".concat(n,"].exercises[").concat(a,"].reps"),setter:b})]}),(0,r.jsx)(o.Z,{onClick:function(){return e=n,r=a,void t((function(n){var t=h(n);return t.days[e].exercises.splice(r,1),t}));var e,r},size:"small",children:(0,r.jsx)(m.ZkW,{})})]}),(0,r.jsx)(s.Z,{sx:{mb:1,mt:1}})]},"day-"+n+"-exercise-"+a)})),(0,r.jsx)(l.Z,{variant:"outlined",onClick:function(){return function(e){t((function(n){var t=h(n);return t.days[e].exercises.push({exerciseId:"",sets:"",reps:""}),t}))}(n)},children:"A\xf1adir ejercicio"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]},"day-"+n)})),(0,r.jsx)(l.Z,{variant:"outlined",onClick:function(){t((function(e){var n=h(e);return n.days.push({name:"",exercises:[]}),n}))},children:"A\xf1adir d\xeda"})]})})}},5287:function(e,n,t){"use strict";t.d(n,{f:function(){return r}});var r=function(e){return{id:e._id||"",name:e.name,days:e.days.map((function(e){return{name:e.name,exercises:e.exercises.map((function(e){return{reps:e.reps,sets:e.sets,exerciseId:e.exercise._id}}))}}))}}},4889:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return B}});var r=t(4776),i=t.n(r),a=t(2322),o=t(5632),s=t(7072),u=t(8675),c=t(3927),l=t(2048),d=t(107),f=t(2784),p=t(6552),x=t(558),m=t(794),v=t(3379),h=t(1082),b=t(5678),y=t(5801),j=t(3091),g=t(5936),Z=t(6060),w=t(5694),O=t(5971);function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function P(e,n,t,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void t(c)}s.done?n(u):Promise.resolve(u).then(r,i)}function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==t.return||t.return()}finally{if(s)throw i}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return S(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(){var e,n,t=(e=["\nmutation UpdateTrainingPlan($input: TrainingsplanByIdInput!) {\n    deleteTrainingPlanById(input: $input) {\n        id\n    }\n}\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return C=function(){return t},t}var W=(0,x.Ps)(C()),I=function(e){var n=e.id,t=(0,o.useRouter)(),r=k(f.useState(!1),2),s=r[0],u=r[1],c=k((0,v.D)(W),2),p=c[0],x=c[1],m=(x.data,x.loading),h=x.error,S=function(){u(!1)},C=function(){var e,r=(e=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p({variables:{input:{id:n}}});case 3:return S(),e.next=6,t.push("/plans");case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){P(a,r,i,o,s,"next",e)}function s(e){P(a,r,i,o,s,"throw",e)}o(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.Z,{color:"secondary",component:"span",onClick:function(){u(!0)},children:(0,a.jsx)(b.ZkW,{})}),(0,a.jsxs)(j.Z,{open:s,onClose:S,children:[(0,a.jsx)(g.Z,{id:"alert-dialog-title",children:"Eleminar"}),(0,a.jsxs)(Z.Z,{children:[(0,a.jsx)(w.Z,{id:"alert-dialog-description",children:"\xbfRealmente quieres borrar el plan?"}),h&&(0,a.jsx)(d.Z,{severity:"warning",children:h.message})]}),(0,a.jsxs)(O.Z,{children:[(0,a.jsx)(l.Z,{onClick:S,disabled:m,children:"No"}),(0,a.jsx)(l.Z,{onClick:C,disabled:m,autoFocus:!0,children:"S\xed"})]})]})]})},T=t(5287);function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function A(e,n,t,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void t(c)}s.done?n(u):Promise.resolve(u).then(r,i)}function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){E(e,n,t[n])}))}return e}function $(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],o=!0,s=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==t.return||t.return()}finally{if(s)throw i}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return _(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function M(){var e=R(["\nquery Query($input: TrainingsplanByIdInput!) {\n    findTrainingPlanById(input: $input) {\n        _id\n        name\n        days {\n            name\n            exercises {\n                exercise {\n                    _id\n                }\n                sets\n                reps\n            }\n        }\n    }\n}\n"]);return M=function(){return e},e}function G(){var e=R(["\nmutation UpdateTrainingPlan($input: TrainingsplanInput!) {\n    updateTrainingPlan(input: $input) {\n        _id\n    }\n}"]);return G=function(){return e},e}var z=(0,x.Ps)(M()),D=(0,x.Ps)(G()),B=function(){var e=(0,o.useRouter)().query.id,n=(0,f.useState)(),t=n[0],r=n[1],x=(0,m.a)(z,{variables:{input:{id:e}}}),b=x.loading,y=x.error,j=x.data,g=$((0,v.D)(D),2),Z=g[0],w=g[1];(0,f.useEffect)((function(){if(!b){var e=(0,T.f)(j.findTrainingPlanById);r(e)}}),[b]);var O=function(){var e,n=(e=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z({variables:{input:N({},t)}});case 2:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){A(a,r,i,o,s,"next",e)}function s(e){A(a,r,i,o,s,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();return b?(0,a.jsx)(h.Z,{}):(0,a.jsxs)(u.Z,{maxWidth:"md",children:[(0,a.jsxs)(c.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,a.jsx)(s.Z,{title:"Plan"}),(0,a.jsxs)(c.Z,{direction:"row",spacing:2,children:[(0,a.jsx)(I,{id:e}),(0,a.jsx)(l.Z,{variant:"contained",onClick:O,disabled:b||w.loading,children:"Save"})]})]}),y&&(0,a.jsx)(d.Z,{severity:"warning",children:y.message}),w.error&&(0,a.jsx)(d.Z,{severity:"warning",children:w.error.message}),(0,a.jsx)(p.Z,{state:t,setState:r})]})}}},function(e){e.O(0,[253,694,537,634,880,774,888,179],(function(){return n=5083,e(e.s=n);var n}));var n=e.O();_N_E=n}]);