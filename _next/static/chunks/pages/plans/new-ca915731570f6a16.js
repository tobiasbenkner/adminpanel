(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[213],{7573:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/plans/new",function(){return t(1898)}])},7072:function(e,n,t){"use strict";var r=t(2322),i=t(3927),o=t(2197);t(2784);n.Z=function(e){var n=e.title,t=e.children;return(0,r.jsxs)(i.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:2},children:[(0,r.jsx)(o.Z,{variant:"h4",children:n}),t&&(0,r.jsx)(i.Z,{direction:"row",spacing:2,children:t})]})}},3698:function(e,n,t){"use strict";t.d(n,{Z:function(){return P}});var r=t(2322),i=t(7550),o=t(107),u=t(3927),a=t(5744),c=t(5801),l=t(6961),s=t(216),d=t(6537),f=t(2048),v=t(1853),p=t(5678),x=(t(2784),t(9506)),h=t(7527),j=t(7612),b=t(6765),m=t.n(b),y=function(e){var n=e.label,t=e.value,i=e.setter,o=e.field;return(0,r.jsxs)(x.Z,{fullWidth:!0,variant:"outlined",children:[(0,r.jsx)(h.Z,{htmlFor:"component-outlined",children:n}),(0,r.jsx)(j.Z,{value:t,onChange:function(e){return function(e){var n=e.replace(/[^0-9.]/g,"");i((function(e){var t=JSON.parse(JSON.stringify(e));return m()(t,o,n),t}))}(e.target.value)},label:n,inputProps:{inputMode:"numeric",pattern:"[0-9]*"}})]})},g=function(e){return JSON.parse(JSON.stringify(e))},Z=t(558),w=t(794),O=t(6890);function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function E(){var e,n,t=(e=["\n    query Query {\n        listAllExercises {\n            _id\n            name\n            nameEs\n            muscleGroup\n        }\n    }"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return E=function(){return t},t}var C=(0,Z.Ps)(E()),P=function(e){var n=e.state,t=e.setState,x=(0,w.a)(C),h=x.loading,j=x.error,b=x.data;x.refetch;return h?(0,r.jsx)(O.Z,{}):(0,r.jsxs)(i.Z,{children:[j&&(0,r.jsx)(o.Z,{children:j.message}),n&&(0,r.jsxs)(u.Z,{spacing:2,children:[(0,r.jsx)(v.Z,{type:"text",label:"Plan",value:n.name,field:"name",setter:t}),n.days.map((function(e,n){return(0,r.jsxs)(a.Z,{elevation:3,sx:{p:2,mb:2},children:[(0,r.jsx)(u.Z,{alignItems:"end",sx:{mb:1},children:(0,r.jsx)(c.Z,{onClick:function(){return e=n,void t((function(n){var t=g(n);return t.days.splice(e,1),t}));var e},size:"small",children:(0,r.jsx)(p.ZkW,{})})}),(0,r.jsx)(v.Z,{type:"text",label:"D\xeda",value:e.name,field:"days[".concat(n,"].name"),setter:t}),(0,r.jsx)(l.Z,{sx:{mb:1,mt:1}}),e.exercises.map((function(e,i){return(0,r.jsxs)("div",{children:[(0,r.jsxs)(u.Z,{direction:"row",justifyContent:"space-between",children:[(0,r.jsx)(s.Z,{id:"auto-day-"+n+"-exercise-"+i,disablePortal:!0,options:b.listAllExercises,getOptionLabel:function(e){return e.nameEs||e.name||""},isOptionEqualToValue:function(e,n){return e._id===n._id},groupBy:function(e){return e.muscleGroup},fullWidth:!0,onChange:function(e,r){return function(e,n,r){t((function(t){var i=JSON.parse(JSON.stringify(t));return i.days[n].exercises[r].exerciseId=e?e._id:null,i}))}(r,n,i)},value:b.listAllExercises.find((function(n){return e.exerciseId===n._id}))||null,renderInput:function(e){return(0,r.jsx)(d.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){S(e,n,t[n])}))}return e}({},e,{label:"Ejercicio"}))}}),(0,r.jsxs)(u.Z,{direction:"row",children:[(0,r.jsx)(y,{label:"sets",value:e.sets,field:"days[".concat(n,"].exercises[").concat(i,"].sets"),setter:t}),(0,r.jsx)(y,{label:"reps",value:e.reps,field:"days[".concat(n,"].exercises[").concat(i,"].reps"),setter:t})]}),(0,r.jsx)(c.Z,{onClick:function(){return e=n,r=i,void t((function(n){var t=g(n);return t.days[e].exercises.splice(r,1),t}));var e,r},size:"small",children:(0,r.jsx)(p.ZkW,{})})]}),(0,r.jsx)(l.Z,{sx:{mb:1,mt:1}})]},"day-"+n+"-exercise-"+i)})),(0,r.jsx)(f.Z,{variant:"outlined",onClick:function(){return function(e){t((function(n){var t=g(n);return t.days[e].exercises.push({exerciseId:"",sets:"",reps:""}),t}))}(n)},children:"A\xf1adir ejercicio"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]},"day-"+n)})),(0,r.jsx)(f.Z,{variant:"outlined",onClick:function(){t((function(e){var n=g(e);return n.days.push({name:"",exercises:[]}),n}))},children:"A\xf1adir d\xeda"})]})]})}},1898:function(e,n,t){"use strict";t.r(n);var r=t(4776),i=t.n(r),o=t(2322),u=t(3698),a=t(2784),c=t(7550),l=t(2048),s=t(107),d=t(558),f=t(3379),v=t(5632),p=t(7072);function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function h(e,n,t,r,i,o,u){try{var a=e[o](u),c=a.value}catch(l){return void t(l)}a.done?n(c):Promise.resolve(c).then(r,i)}function j(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){j(e,n,t[n])}))}return e}function m(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],u=!0,a=!1;try{for(t=t.call(e);!(u=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);u=!0);}catch(c){a=!0,i=c}finally{try{u||null==t.return||t.return()}finally{if(a)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return x(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return x(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(){var e,n,t=(e=["\nmutation Mutation($input: TrainingsplanInput!) {\n    createTrainingPlan(input: $input) {\n        _id\n        name\n    }\n}\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return y=function(){return t},t}var g=(0,d.Ps)(y());n.default=function(){var e=(0,v.useRouter)(),n=(0,a.useState)({id:"",name:"",days:[]}),t=n[0],r=n[1],d=m((0,f.D)(g),2),x=d[0],j=d[1],y=(j.data,j.loading),Z=j.error,w=function(){var n,r=(n=i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t),console.log({variables:{input:b({},t)}}),n.prev=2,n.next=5,x({variables:{input:b({},t)}});case 5:return n.next=7,e.push("/plans");case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function u(e){h(o,r,i,u,a,"next",e)}function a(e){h(o,r,i,u,a,"throw",e)}u(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,o.jsxs)(c.Z,{children:[(0,o.jsx)(p.Z,{title:"Create a plan",children:(0,o.jsx)(l.Z,{variant:"contained",onClick:w,disabled:y,children:"Save"})}),Z&&(0,o.jsx)(s.Z,{severity:"warning",children:Z.message}),(0,o.jsx)(u.Z,{state:t,setState:r})]})}},6890:function(e,n,t){"use strict";var r=t(2322),i=t(3927),o=t(2841);n.Z=function(){return(0,r.jsx)(i.Z,{justifyContent:"center",alignItems:"center",style:{height:"calc(100vh - 100px)"},children:(0,r.jsx)(o.Z,{})})}},1853:function(e,n,t){"use strict";var r=t(2322),i=t(2784),o=t(9506),u=t(7527),a=t(7612),c=t(5801),l=t(6765),s=t.n(l),d=t(5469),f=t(5678);n.Z=function(e){var n=e.label,t=e.value,l=e.setter,v=e.field,p=e.type,x=(0,i.useState)(!1),h=x[0],j=x[1];return(0,r.jsxs)(o.Z,{fullWidth:!0,variant:"outlined",children:[(0,r.jsx)(u.Z,{htmlFor:"component-outlined",children:n}),(0,r.jsx)(a.Z,{type:h?"text":p,value:t,onChange:function(e){return n=e.target.value,void l((function(e){var t=JSON.parse(JSON.stringify(e));return s()(t,v,n),t}));var n},label:n,endAdornment:"password"===p&&(0,r.jsx)(d.Z,{position:"end",children:(0,r.jsx)(c.Z,{"aria-label":"toggle password visibility",onClick:function(){j((function(e){return!e}))},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:h?(0,r.jsx)(f.wqE,{}):(0,r.jsx)(f.t2l,{})})})})]})}},3379:function(e,n,t){"use strict";t.d(n,{D:function(){return s}});var r=t(5163),i=t(2784),o=t(8769),u=t(8229),a=t(7274),c=t(5832),l=t(6675);function s(e,n){var t=(0,l.x)(null===n||void 0===n?void 0:n.client);(0,a.Vp)(e,a.n_.Mutation);var s=(0,i.useState)({called:!1,loading:!1,client:t}),d=s[0],f=s[1],v=(0,i.useRef)({result:d,mutationId:0,isMounted:!0,client:t,mutation:e,options:n});Object.assign(v.current,{client:t,options:n,mutation:e});var p=(0,i.useCallback)((function(e){void 0===e&&(e={});var n=v.current,t=n.client,i=n.options,a=n.mutation,l=(0,r.pi)((0,r.pi)({},i),{mutation:a});v.current.result.loading||l.ignoreResults||f(v.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:t});var s=++v.current.mutationId,d=(0,o.J)(l,e);return t.mutate(d).then((function(n){var r,i,o,a=n.data,l=n.errors,p=l&&l.length>0?new c.c({graphQLErrors:l}):void 0;if(s===v.current.mutationId&&!d.ignoreResults){var x={called:!0,loading:!1,data:a,error:p,client:t};v.current.isMounted&&!(0,u.D)(v.current.result,x)&&f(v.current.result=x)}return null===(i=null===(r=v.current.options)||void 0===r?void 0:r.onCompleted)||void 0===i||i.call(r,n.data),null===(o=e.onCompleted)||void 0===o||o.call(e,n.data),n})).catch((function(n){var r,i,o,a;if(s===v.current.mutationId&&v.current.isMounted){var c={loading:!1,error:n,data:void 0,called:!0,client:t};(0,u.D)(v.current.result,c)||f(v.current.result=c)}if((null===(r=v.current.options)||void 0===r?void 0:r.onError)||d.onError)return null===(o=null===(i=v.current.options)||void 0===i?void 0:i.onError)||void 0===o||o.call(i,n),null===(a=e.onError)||void 0===a||a.call(e,n),{data:void 0,errors:n};throw n}))}),[]),x=(0,i.useCallback)((function(){f({called:!1,loading:!1,client:t})}),[]);return(0,i.useEffect)((function(){return v.current.isMounted=!0,function(){v.current.isMounted=!1}}),[]),[p,(0,r.pi)({reset:x},d)]}}},function(e){e.O(0,[253,694,537,143,216,774,888,179],(function(){return n=7573,e(e.s=n);var n}));var n=e.O();_N_E=n}]);